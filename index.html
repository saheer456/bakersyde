<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fresh Bakes Home Bakery | Custom Treats with Love</title>
  <meta name="description" content="Custom cakes, donuts, brownies & cupcakes ‚Äî fresh, pastel-perfect, delivered with warmth." />
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- AOS Animation Library -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css">

  <!-- Font Awesome -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" defer></script>
</head>
<body>

  <!-- Floating Elements (Cute Emojis) -->
  <div class="floating-elements">
    <div class="floating-element element-1">üßÅ</div>
    <div class="floating-element element-2">üç∞</div>
    <div class="floating-element element-3">üç™</div>
    <div class="floating-element element-4">üéÇ</div>
    <div class="floating-element element-5">ü•ê</div>
  </div>

  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="nav-decoration"></div>
    <div class="container nav-row">
      <a class="logo" href="#home">
        <span class="logo-icon">üç∞</span>
        Fresh Bakes
      </a>

      <div class="nav-links">
        <a href="#home" class="nav-link active">Home</a>
        <a href="#menu" class="nav-link">Menu</a>
        <a href="#gallery" class="nav-link">Gallery</a>
        <a href="#contact" class="nav-link">Contact</a>
      </div>

      <div class="nav-actions">
        <button id="cartButton" class="cart-floating" aria-label="Open cart">
          <i class="fas fa-shopping-basket"></i>
          <span id="cartCount">0</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero" id="home">
    <div class="hero-particles" id="heroParticles"></div>
    <div class="container hero-inner">
      <div class="hero-text" data-aos="fade-up" data-aos-duration="1000">
        <div class="hero-badge">
          <span>üå∏ Handcrafted with Love</span>
        </div>
        <h1 class="hero-title">
          <span class="title-line">Fresh Bakes,</span>
          <span class="title-line accent">Made With Love</span>
        </h1>
        <p class="hero-subtitle">Custom cakes, donuts & brownies delivered to your door.</p>
        <div class="hero-badges">
          <span class="badge">Free Delivery 3km</span>
          <span class="badge">Fresh Baked Daily</span>
          <span class="badge">Custom Orders Welcome</span>
        </div>
        <div class="hero-cta">
          <a href="#menu" class="btn btn-primary magnetic">
            <span class="btn-content">
              <i class="fas fa-heart"></i>
              Explore Menu
            </span>
          </a>
          <a href="https://wa.me/919778550480" class="btn btn-whatsapp magnetic" target="_blank">
            <span class="btn-content">
              <i class="fab fa-whatsapp"></i>
              Order on WhatsApp
            </span>
          </a>
        </div>
      </div>

      <div class="hero-visual" data-aos="fade-left" data-aos-duration="1200" data-aos-delay="300">
        <div class="cake-showcase">
          <img src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=500&h=600&fit=crop" alt="Fresh Custom Cake" class="hero-cake-img" loading="eager">
          <div class="cake-glow"></div>
        </div>
      </div>
    </div>
    
    <div class="hero-scroll-indicator">
      <div class="scroll-arrow"></div>
    </div>
  </header>

  <!-- POPULAR PRODUCTS CAROUSEL -->
  <section class="popular-section">
    <div class="container">
      <div class="section-header" data-aos="fade-up">
        <h2 class="section-title">Popular Picks</h2>
        <p class="section-subtitle">Our sweetest bestsellers</p>
      </div>
      <div class="carousel-container">
        <div class="popular-carousel" id="popularCarousel">
          <!-- Items populated by JS -->
        </div>
        <button class="carousel-nav prev" onclick="scrollCarousel(-1)">‚Äπ</button>
        <button class="carousel-nav next" onclick="scrollCarousel(1)">‚Ä∫</button>
      </div>
    </div>
  </section>

  <!-- MENU -->
  <section class="section menu" id="menu">
    <div class="container">
      <div class="section-header" data-aos="fade-up">
        <h2 class="section-title">Our Menu</h2>
        <p class="section-subtitle">Indulge in pastel perfection</p>
      </div>
      
      <div class="search-section">
        <div class="search-row">
          <div class="search-box">
            <input id="searchInput" type="search" placeholder="Find your favorite treat...">
            <i class="fas fa-search"></i>
          </div>

          <div class="filter-row">
            <button class="category-filter active" data-category="all">All</button>
            <button class="category-filter" data-category="cakes">Cakes</button>
            <button class="category-filter" data-category="donuts">Donuts</button>
            <button class="category-filter" data-category="brownies">Brownies</button>
            <button class="category-filter" data-category="cupcakes">Cupcakes</button>
          </div>
        </div>
      </div>

      <div id="productsGrid" class="products-grid">
        <div class="loading-spinner active"><div class="spinner"></div></div>
      </div>
    </div>
  </section>

  <!-- PRODUCT DETAIL MODAL -->
  <div id="productModal" class="detail-modal">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <button class="modal-close" id="closeDetail">&times;</button>
      <div class="detail-image">
        <img id="detailImg" src="" alt="">
      </div>
      <div class="detail-info">
        <h2 id="detailName"></h2>
        <p id="detailDesc"></p>
        <div class="detail-price" id="detailPrice"></div>
        <div class="detail-stock" id="detailStock"></div>
        <div class="quantity-selector">
          <label>Quantity</label>
          <div class="qty-controls">
            <button class="qty-btn dec">-</button>
            <span id="detailQty">1</span>
            <button class="qty-btn inc">+</button>
          </div>
        </div>
        <div class="detail-actions">
          <button id="addToCartDetail" class="btn btn-primary">Add to Cart</button>
          <a href="#" id="whatsappDetail" class="btn btn-whatsapp">Order on WhatsApp</a>
        </div>
      </div>
    </div>
  </div>

  <!-- GALLERY -->
  <section class="section gallery" id="gallery">
    <div class="container">
      <div class="section-header" data-aos="fade-up">
        <h2 class="section-title">Sweet Gallery</h2>
        <p class="section-subtitle">A peek into our creations</p>
      </div>
      <div id="galleryGrid" class="gallery-grid"></div>
    </div>
  </section>

  <!-- CONTACT -->
  <section class="section contact" id="contact">
    <div class="container">
      <div class="section-header" data-aos="fade-up">
        <h2 class="section-title">Get in Touch</h2>
        <p class="section-subtitle">Ready to bake something special?</p>
      </div>
      <div class="contact-container">
        <div class="contact-form card" data-aos="fade-right" data-aos-delay="100">
          <form id="contactForm">
            <div class="form-group">
              <label>Name</label>
              <input id="cf_name" type="text" required>
            </div>
            <div class="form-group">
              <label>Phone (WhatsApp)</label>
              <input id="cf_phone" type="tel" required>
            </div>
            <div class="form-group">
              <label>Message</label>
              <textarea id="cf_message" required placeholder="Tell us your sweet dreams..."></textarea>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-primary magnetic">
                <i class="fas fa-paper-plane"></i>
                Send
              </button>
              <a class="btn btn-whatsapp magnetic" href="https://wa.me/919778550480" target="_blank">
                <i class="fab fa-whatsapp"></i>
                Quick Order
              </a>
            </div>
          </form>
        </div>

        <aside class="contact-info" data-aos="fade-left" data-aos-delay="200">
          <div class="info-card">
            <h3>Delivery & Pickup</h3>
            <div class="info-item">
              <div class="info-icon">üöö</div>
              <div class="info-content">
                <h4>Free Delivery</h4>
                <p>Within 3km ‚Ä¢ Same-day for regulars</p>
              </div>
            </div>
            <div class="info-item">
              <div class="info-icon">üìç</div>
              <div class="info-content">
                <h4>Pickup Spot</h4>
                <p>Cozy Kitchen Corner, Your City</p>
              </div>
            </div>
            <div class="info-item">
              <div class="info-icon">üíï</div>
              <div class="info-content">
                <h4>Custom Vibes</h4>
                <p>48h notice for bespoke designs</p>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </section>

  <!-- CART MODAL -->
  <div id="cartModal" class="cart-modal">
    <div class="cart-backdrop"></div>
    <div class="cart-content">
      <div class="cart-header">
        <h2>Your Treats</h2>
        <button id="closeCart" class="cart-close">&times;</button>
      </div>
      <div id="cartItems" class="cart-items"></div>
      <div class="cart-footer">
        <div class="promo-section">
          <input id="promoCode" type="text" placeholder="Promo code">
          <button id="applyPromo">Apply</button>
        </div>
        <div class="price-breakdown">
          <div class="price-row">
            <span>Subtotal</span>
            <span id="cartSubtotal">‚Çπ0</span>
          </div>
          <div class="price-row total">
            <span>Total</span>
            <span id="cartTotal">‚Çπ0</span>
          </div>
        </div>
        <button id="checkoutBtn" class="btn btn-whatsapp">Checkout on WhatsApp</button>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script type="module">
    import { supabase } from './supabase.js'; // Assume this exists
    import { initPublic } from './script.js';
    
    document.addEventListener('DOMContentLoaded', () => {
      AOS.init({ duration: 1000, once: true, offset: 100 });
      initPublic({ supabase });
    });
  </script>

</body>
</html>